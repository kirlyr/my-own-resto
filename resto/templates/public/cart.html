{% extends 'base.html' %}
{% block content %}
<h3 class="mb-3">Keranjang</h3>

{% if items %}
  <div class="table-responsive">
    <table class="table table-sm align-middle">
      <thead>
        <tr>
          <th>Item</th>
          <th class="text-end">Harga</th>
          <th class="text-center">Qty</th>
          <th class="text-end">Subtotal</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {% for it in items %}
        <tr>
          <td>{{ it.name }}</td>
          <td class="text-end">{{ it.price }}</td>
          <td class="text-center">{{ it.qty }}</td>
          <td class="text-end">{{ it.subtotal }}</td>
          <td class="text-end">
            <a class="btn btn-sm btn-outline-danger"
               href="{% url 'cart_remove' it.id %}">-</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
      <tfoot>
        <tr>
          <th colspan="3" class="text-end">Total</th>
          <th class="text-end">{{ total }}</th>
          <th></th>
        </tr>
      </tfoot>
    </table>
  </div>

  <div class="d-flex gap-2">
    <a href="{% url 'cart_clear' %}" class="btn btn-outline-secondary">Kosongkan</a>
    <a href="{% url 'pos_create_order' %}" class="btn btn-primary">Checkout</a>
  </div>
{% else %}
  <p>Keranjang masih kosong.</p>
{% endif %}

<div class="mt-3">
  <a href="{% url 'public_menu' %}" class="btn btn-link">&larr; Kembali ke Menu</a>
</div>
{% endblock %}
